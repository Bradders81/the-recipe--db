{% extends "base.html" %}

{% block content %}

<div class="profile-bg">
    <div class="row ">
        <div class="col-12">
            <h1 class="headings heading-margin">{{ username }}'s Cookbook</h1>
        </div>
        <div class=" col-12 col-md-7">
            <div class="align-center">
                <h5 class="sub-headings">Upload a Recipe</h5>
            </div>
            <div class="row">
                <div id="recipe-form" class=" col-12 col-md-10">
                    <!-- Credit: Form from Bootstrap -->
                    <form method="POST" action="{{url_for('profile') }}">
                        <div class="mb-3">
                            <label for="recipe_name" class="sub-headings form-label">Name of Recipe</label>
                            <input type="text" class="form-control" name="recipe_name" minlength="1"maxlength="30"
                                pattern="^[a-zA-Z0-9]{1,30}$" id="receipe_name" required>
                        </div>
                        <div class="mb-3">
                            <label for="description" class="sub-headings form-label">Description</label>
                            <textarea type="text" class="form-control" name="description" minlength="1" maxlength="190"
                                pattern="^[a-zA-Z0-9]{1,190}$" id="description" required></textarea>
                        </div>
                        <div class="mb-3">
                            <label for="instructions" class=" sub-headings form-label">Cooking Instructions</label>
                            <textarea type="text" class="form-control" name="instructions" minlength="1" maxlength="2000"
                            pattern="^[a-zA-Z0-9]{1,2000}$"id="instructions"
                                required></textarea>
                        </div>
                        <div class="mb-3">
                            <label for="ingredients" class="sub-headings form-label">Ingredients</label>
                            <textarea type="text" class="form-control" name="ingredients" minlength="1" maxlength="300"
                            pattern="^[a-zA-Z0-9]{1,300}$" id="ingredients"
                                placeholder="Please list each ingredient on a separate line" required></textarea>
                        </div>
                        <div class="mb-3">
                            <label for="cooking-time" class="sub-headings form-label">Prep and Cooking Time</label>
                            <input type="text" class="form-control" name="cooking_time" minlength="1" maxlength="3"
                            pattern="^[a-zA-Z0-9]{1,3}$" id="cooking-time" required>
                        </div>
                        <div class="form-group">
                            <label class="sub-headings" for="type">Type of Meal</label>
                            <select class="form-control-small" name="type" id="type">
                                <option>Breakfast</option>
                                <option>Lunch</option>
                                <option>Dinner</option>
                                <option>Dessert</option>
                            </select>
                        </div>
                        <div id="btn-upload-recipe" class="align-center">
                            <button type="submit" class="btn cta-btn">Submit</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <!-- List of the users recipes -->
        <div class=" col-12 col-md-4">
            <div class="align-center">
                <h5 class="sub-headings">My Cookbook</h5>
            </div>
            <div class="my-recipes">
                <ul class="list-group align-center">

                    {% for recipe in users_cookbook %}

                    <li class="list-group-item">
                        <a class="recipe-li" href="/profile/{{ recipe._id }}">{{ recipe.recipe_name }}</a><br>
                        <a class="delete-btn" href="{{ url_for('delete_recipe', recipe_id=recipe._id) }}">Delete</a>
                        <a class="edit-btn" href="{{ url_for('edit_recipe', recipe_id=recipe._id) }}">Edit</a>

                    </li>
                    {% endfor %}
                </ul>
            </div>
        </div>
    </div>
</div>

{% endblock %}